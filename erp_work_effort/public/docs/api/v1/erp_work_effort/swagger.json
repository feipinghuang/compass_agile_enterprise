{"swagger":"2.0","info":{"title":"CompassAE API Documentation","version":"1.0.0","description":"CompassAE API Documentation"},"paths":{"/api/v1/projects":{"get":{"tags":["Project"],"consumes":["application/json"],"produces":["application/json"],"parameters":[],"responses":{"Success 200":{"description":"Success","schema":{"type":"boolean"}}}}},"/api/v1/time_entries":{"post":{"tags":["TimeEntry"],"summary":"Starts TimeEntry by setting the from_datetime to the current time.\n  if there is already an open time_entry set its thru_datetime to the current time and\n  create a new Time Entry.  It is assumed that a TimeEntry is always logged against a WorkEffort so\n  a WorkEffort ID should be passed.","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"StartTimeEntryBody","description":"Starts TimeEntry by setting the from_datetime to the current time.\n  if there is already an open time_entry set its thru_datetime to the current time and\n  create a new Time Entry.  It is assumed that a TimeEntry is always logged against a WorkEffort so\n  a WorkEffort ID should be passed.","required":true,"schema":{"$ref":"#/definitions/StartTimeEntryBody"}}],"responses":{"Success 200":{"description":"Success","schema":{"type":"boolean"}}}}},"/api/v1/time_entries/open":{"get":{"tags":["TimeEntry"],"summary":"If a work effort id is passed get the last open time_entry for that work_effort\n  for the current user if there are no open time entries then return only the totals","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"client_utc_offset","in":"query","required":true,"type":"number","description":"Offset of Client"},{"name":"work_effort_id","in":"query","required":false,"type":"number","description":"ID of WorkEffort"}],"responses":{"Success 200":{"description":"Success","schema":{"type":"boolean"}}}}},"/api/v1/time_entries/{id}":{"post":{"tags":["TimeEntry"],"consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"UpdateTimeEntryBody","required":true,"schema":{"$ref":"#/definitions/UpdateTimeEntryBody"}}],"responses":{"Success 200":{"description":"Success","schema":{"type":"boolean"}}}}},"/api/v1/time_entries/{id}/stop":{"put":{"tags":["TimeEntry"],"summary":"Stop TimeEntry by setting the thru_datetime and calculating the hours in seconds\n  it returns the TimeEntry record as well as formatted totals for the day and week","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"StopTimeEntryBody","description":"Stop TimeEntry by setting the thru_datetime and calculating the hours in seconds\n  it returns the TimeEntry record as well as formatted totals for the day and week","required":true,"schema":{"$ref":"#/definitions/StopTimeEntryBody"}}],"responses":{"Success 200":{"description":"Success","schema":{"type":"boolean"}}}}},"/api/v1/time_entries/totals":{"get":{"tags":["TimeEntry"],"summary":"Returns totals for time entries.  If a work effort id is passed it will get totals for the\n  passed work effort.  If no work effort id is passed it will get totals for the current user\n  passed on their timesheet","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"client_utc_offset","in":"query","required":true,"type":"number","description":"Offset of Client"},{"name":"work_effort_id","in":"query","required":false,"type":"number","description":"ID of WorkEffort"},{"name":"party_id","in":"query","required":false,"type":"number","description":"ID of Party"}],"responses":{"Success 200":{"description":"Success","schema":{"type":"boolean"}}}}},"/api/v1/work_effort_association":{"post":{"tags":["WorkEffortAssociation"],"consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"CreateWorkEffortAssociationBody","required":true,"schema":{"$ref":"#/definitions/CreateWorkEffortAssociationBody"}}],"responses":{"Success 200":{"description":"Success","schema":{"type":"boolean"}}}}},"/api/v1/work_effort_association/{id}":{"delete":{"tags":["WorkEffortAssociation"],"consumes":["application/json"],"produces":["application/json"],"parameters":[],"responses":{"Success 200":{"description":"Success","schema":{"type":"boolean"}}}},"get":{"tags":["WorkEffortAssociation"],"consumes":["application/json"],"produces":["application/json"],"parameters":[],"responses":{"Success 200":{"description":"Success","schema":{"type":"boolean"}}}},"put":{"tags":["WorkEffortAssociation"],"consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"UpdateWorkEffortAssociationBody","required":true,"schema":{"$ref":"#/definitions/UpdateWorkEffortAssociationBody"}}],"responses":{"Success 200":{"description":"Success","schema":{"type":"boolean"}}}}},"/api/v1/work_effort_associations":{"get":{"tags":["WorkEffortAssociation"],"consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"project_id","in":"query","required":false,"type":"number","description":"Project ID to scope by"}],"responses":{"Success 200":{"description":"Success","schema":{"type":"boolean"}}}}},"/api/v1/work_efforts":{"post":{"tags":["WorkEffort"],"consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"CreateWorkEffortBody","required":true,"schema":{"$ref":"#/definitions/CreateWorkEffortBody"}}],"responses":{"Success 200":{"description":"Success","schema":{"type":"boolean"}}}},"get":{"tags":["WorkEffort"],"consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"project_id","in":"query","required":false,"type":"number","description":"Project ID to scope by"},{"name":"status","in":"query","required":false,"type":"string","description":"Comma separated list of TrackedStatusType internal identifiers to scope by"},{"name":"parties","in":"query","required":false,"type":"string","description":"JSON encoded object containing comma separated separated party ids and role types to scope by"}],"responses":{"Success 200":{"description":"Success","schema":{"type":"boolean"}}}}},"/api/v1/work_efforts/{id}":{"delete":{"tags":["WorkEffort"],"consumes":["application/json"],"produces":["application/json"],"parameters":[],"responses":{"Success 200":{"description":"Success","schema":{"type":"boolean"}}}},"get":{"tags":["WorkEffort"],"consumes":["application/json"],"produces":["application/json"],"parameters":[],"responses":{"Success 200":{"description":"Success","schema":{"type":"boolean"}}}},"put":{"tags":["WorkEffort"],"consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"UpdateWorkEffortBody","required":true,"schema":{"$ref":"#/definitions/UpdateWorkEffortBody"}}],"responses":{"Success 200":{"description":"Success","schema":{"type":"boolean"}}}}},"/api/v1/work_effort_party_assignments":{"post":{"tags":["WorkEffortPartyAssignment"],"consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"CreateWorkEffortPartyAssignmentsBody","required":true,"schema":{"$ref":"#/definitions/CreateWorkEffortPartyAssignmentsBody"}}],"responses":{"Success 200":{"description":"Success","schema":{"type":"boolean"}}}},"get":{"tags":["WorkEffortPartyAssignment"],"consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"project_id","in":"query","required":false,"type":"number","description":"Project ID to scope by"},{"name":"work_effort_id","in":"query","required":false,"type":"number","description":"WorkEffort ID to scope by"}],"responses":{"Success 200":{"description":"Success","schema":{"type":"boolean"}}}}},"/api/v1/work_effort_party_assignments/{id}":{"delete":{"tags":["WorkEffortPartyAssignment"],"consumes":["application/json"],"produces":["application/json"],"parameters":[],"responses":{"Success 200":{"description":"Success","schema":{"type":"boolean"}}}},"put":{"tags":["WorkEffortPartyAssignment"],"consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"UpdateWorkEffortPartyAssignmentsBody","required":true,"schema":{"$ref":"#/definitions/UpdateWorkEffortPartyAssignmentsBody"}}],"responses":{"Success 200":{"description":"Success","schema":{"type":"boolean"}}}}},"/api/v1/work_effort_types":{"get":{"tags":["WorkEffortType"],"consumes":["application/json"],"produces":["application/json"],"parameters":[],"responses":{"Success 200":{"description":"Success","schema":{"type":"boolean"}}}}},"/api/v1/work_effort_types/{id}":{"get":{"tags":["WorkEffortType"],"consumes":["application/json"],"produces":["application/json"],"parameters":[],"responses":{"Success 200":{"description":"Success","schema":{"type":"boolean"}}}}},"/api/v1/work_efforts/{id}/update_status":{"put":{"tags":["WorkEffort"],"consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"UpdateWorkEffortStatusBody","required":true,"schema":{"$ref":"#/definitions/UpdateWorkEffortStatusBody"}}],"responses":{"Success 200":{"description":"Success","schema":{"type":"boolean"}}}}},"/api/v1/work_efforts/{id}/time_entries_allowed":{"get":{"tags":["WorkEffort"],"consumes":["application/json"],"produces":["application/json"],"parameters":[],"responses":{"Success 200":{"description":"Success","schema":{"type":"boolean"}}}}}},"definitions":{"CreateTimeEntryBody":{"properties":{"regular_hours_in_seconds":{"type":"number","description":"Regular hours in seconds for this TimeEntry"},"overtime_hours_in_seconds":{"type":"number","description":"Overtime hours in seconds for this TimeEntry"},"from_datetime":{"type":"datetime","description":"From DateTime for this TimeEntry"},"thru_datetime":{"type":"datetime","description":"Thru DateTime for this TimeEntry"},"comment":{"type":"string","description":"Comment for this Time Entry"},"work_effort_id":{"type":"number","description":"ID of WorkEffort for this TimeEntry"},"timesheet_id":{"type":"number","description":"ID of Timesheet to associate this TimeEntry to"}},"required":["regular_hours_in_seconds"]},"StartTimeEntryBody":{"properties":{"work_effort_id":{"type":"number","description":"ID of WorkEffort to start the TimeEntry for"},"comment":{"type":"string","description":"Comment for this Time Entry"}},"required":["work_effort_id"]},"UpdateTimeEntryBody":{"properties":{"regular_hours_in_seconds":{"type":"number","description":"Regular hours in seconds for this TimeEntry"},"overtime_hours_in_seconds":{"type":"number","description":"Overtime hours in seconds for this TimeEntry"},"from_datetime":{"type":"datetime","description":"From DateTime for this TimeEntry"},"thru_datetime":{"type":"datetime","description":"Thru DateTime for this TimeEntry"},"comment":{"type":"string","description":"Comment for this Time Entry"}},"required":[]},"StopTimeEntryBody":{"properties":{"work_effort_id":{"type":"number","description":"ID of WorkEffort that this TimeEntry is associated to"},"end_date":{"type":"datetime","description":"When this TimeEntry Stopped"},"comment":{"type":"string","description":"Comment for this Time Entry"}},"required":["work_effort_id","end_date"]},"CreateWorkEffortAssociationBody":{"properties":{"work_effort_id_from":{"type":"number","description":"ID of from WorkEffort"},"work_effort_id_to":{"type":"number","description":"ID of to WorkEffort"},"work_effort_association_type":{"type":"string","description":"Internal Identifier of WorkEffortAssociationType"}},"required":["work_effort_id_from","work_effort_id_to","work_effort_association_type"]},"UpdateWorkEffortAssociationBody":{"properties":{"work_effort_id_from":{"type":"number","description":"ID of from WorkEffort"},"work_effort_id_to":{"type":"number","description":"ID of to WorkEffort"},"work_effort_association_type":{"type":"string","description":"Internal Identifier of WorkEffortAssociationType"}},"required":["work_effort_id_from","work_effort_id_to","work_effort_association_type"]},"CreateWorkEffortBody":{"properties":{"project_id":{"type":"number","description":"ID of Project to create WorkEfforts under"},"work_efforts":{"type":"array","description":"Array of WorkEfforts to update"}},"required":["work_efforts"]},"CreateWorkEffortBody.work_efforts":{"properties":{"description":{"type":"string","description":"Description of WorkEffort"},"start_at":{"type":"datetime","description":"Start At of WorkEffort"},"end_at":{"type":"datetime","description":"End At of WorkEffort"},"percent_done":{"type":"decimal","description":"Percent done of WorkEffort"},"duration":{"type":"number","description":"Duration of WorkEffort"},"duration_unit":{"type":"string","description":"Duration Unit of WorkEffort"},"effort":{"type":"number","description":"Effort of WorkEffort"},"effort_unit":{"type":"string","description":"Effort Unit of WorkEffort"},"comments":{"type":"string","description":"Comments on WorkEffort"},"sequence":{"type":"number","description":"Sequence of WorkEffort"},"parent_id":{"type":"number","description":"ID] of Parent WorkEffort to put the newly created WorkEfforts under"},"biz_txn_event_id":{"type":"number","description":"BizTxnEvent to relate to this WorkEffort"}},"required":["description"]},"UpdateWorkEffortBody":{"properties":{"project_id":{"type":"number","description":"ID of Project to put WorkEfforts under"},"work_efforts":{"type":"array","description":"Array of WorkEfforts to create"}},"required":["work_efforts"]},"UpdateWorkEffortBody.work_efforts":{"properties":{"description":{"type":"string","description":"Description of WorkEffort"},"start_at":{"type":"datetime","description":"Start At of WorkEffort"},"end_at":{"type":"datetime","description":"End At of WorkEffort"},"percent_done":{"type":"decimal","description":"Percent done of WorkEffort"},"duration":{"type":"number","description":"Duration of WorkEffort"},"duration_unit":{"type":"string","description":"Duration Unit of WorkEffort"},"effort":{"type":"number","description":"Effort of WorkEffort"},"effort_unit":{"type":"string","description":"Effort Unit of WorkEffort"},"comments":{"type":"string","description":"Comments on WorkEffort"},"sequence":{"type":"number","description":"Sequence of WorkEffort"},"parent_id":{"type":"number","description":"ID] of Parent WorkEffort to put the updated WorkEfforts under"}},"required":[]},"CreateWorkEffortPartyAssignmentsBody":{"properties":{"party_id":{"type":"number","description":"ID of Party"},"work_effort_id":{"type":"number","description":"ID of WorkEffort"},"resource_allocation":{"type":"decimal","description":"Allocation percentage"}},"required":["party_id","work_effort_id","resource_allocation"]},"UpdateWorkEffortPartyAssignmentsBody":{"properties":{"party_id":{"type":"number","description":"ID of Party"},"work_effort_id":{"type":"number","description":"ID of WorkEffort"},"resource_allocation":{"type":"decimal","description":"Allocation percentage"}},"required":["party_id","work_effort_id","resource_allocation"]},"UpdateWorkEffortStatusBody":{"properties":{"status":{"type":"string","description":"Internal identifier of status that should be set"}},"required":["status"]}}}